# Соединение таблиц

Вместо того чтобы хранить множество слабо связанных по смыслу полей в одной таблице, можно её (таблицу с несвязанными по смыслу полями) разбить на две.

Пример таблицы:

```

customers_orders

id - integer
customer_name - varchar (имя клиента)
city - varchar (город клиента)
age - varchar (возраст клиента)
order_name - varchar (имя заказа)
amount - integer (счёт клиента)
```

Для удобства её можно разбить на две:

```
customers

id - integer
name - varchar (имя клиента)
city - varchar
age - integer
```

```
orders

id - integer
name - varchar (имя заказа)
customer_id - integer
amount - integer
```

SQL даёт возможность выбирать значение из полей сразу нескольких таблиц (даже если их имена совпадают) с помощью полных имён полей (table_name.field_name, а не просто field_name).

Таким образом с помощью _*соединения таблиц*_ (выборки значений сразу из нескольких таблиц) в запросе, можно делать такие запросы:

```sql
SELECT

customers.id, customers.name, -- выбрать 2 поля из customers
orders.name, orders.amount -- выбрать 2 поля из orders

FROM customers, orders -- указывается из каких таблиц идёт выборка

WHERE customers.id = orders.customer_id -- соединяются связанные по id поля

ORDER BY customers.id; -- сортировка
```

Анализируя вывод, создаётся впечатление, словно выбор происходил из 1 таблицы. Это и было начальной целью - разбиение 1 таблицы на 2 маленькие и написание 1 запроса для получения _*связанного*_ по смыслу вывода. Этот эффект достигается при помощи хранения в таблице orders id нужного клиента в `customer_id` и последующего к нему обращения:

```sql
WHERE customers.id = orders.customer_id -- соединяются связанные по id поля
```
